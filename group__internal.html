<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bio: Internal details</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">bio
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__internal.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Internal details</div></div>
</div><!--header-->
<div class="contents">

<p>For porting to a new platform.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__linux" id="r_group__linux"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__linux.html">Linux</a></td></tr>
<tr class="memdesc:group__linux"><td class="mdescLeft">&#160;</td><td class="mdescRight">Linux implementation details. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__windows" id="r_group__windows"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__windows.html">Windows</a></td></tr>
<tr class="memdesc:group__windows"><td class="mdescLeft">&#160;</td><td class="mdescRight">Windows implementation details. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__freebsd" id="r_group__freebsd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__freebsd.html">FreeBSD</a></td></tr>
<tr class="memdesc:group__freebsd"><td class="mdescLeft">&#160;</td><td class="mdescRight">FreeBSD implementation details. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gab49e49a3e22f32f6c580afcac0d9b583" id="r_gab49e49a3e22f32f6c580afcac0d9b583"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gab49e49a3e22f32f6c580afcac0d9b583">BIO_DEFAULT_NUM_CLS_BUCKETS</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:gab49e49a3e22f32f6c580afcac0d9b583"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default number of CLS hash buckets.  <br /></td></tr>
<tr class="separator:gab49e49a3e22f32f6c580afcac0d9b583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga75184a1280f54046602a7d975b9301c4" id="r_ga75184a1280f54046602a7d975b9301c4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga75184a1280f54046602a7d975b9301c4">BIO_DEFAULT_THREAD_POOL_SIZE</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:ga75184a1280f54046602a7d975b9301c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default number of threads in the async thread pool.  <br /></td></tr>
<tr class="separator:ga75184a1280f54046602a7d975b9301c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ef17ac0b1d8b097954aca20c450038e" id="r_ga1ef17ac0b1d8b097954aca20c450038e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga1ef17ac0b1d8b097954aca20c450038e">BIO_DEFAULT_THREAD_POOL_QUEUE_SIZE</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:ga1ef17ac0b1d8b097954aca20c450038e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default queue size for the async thread pool.  <br /></td></tr>
<tr class="separator:ga1ef17ac0b1d8b097954aca20c450038e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaec90ae104fab2334fcf70021a61f4457" id="r_gaec90ae104fab2334fcf70021a61f4457"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gaec90ae104fab2334fcf70021a61f4457">bio_platform_init</a> (void)</td></tr>
<tr class="memdesc:gaec90ae104fab2334fcf70021a61f4457"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the platform layer.  <br /></td></tr>
<tr class="separator:gaec90ae104fab2334fcf70021a61f4457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad84f3cec9d1bddfa9e22612a9d757a8f" id="r_gad84f3cec9d1bddfa9e22612a9d757a8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gad84f3cec9d1bddfa9e22612a9d757a8f">bio_platform_cleanup</a> (void)</td></tr>
<tr class="memdesc:gad84f3cec9d1bddfa9e22612a9d757a8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanup the platform layer.  <br /></td></tr>
<tr class="separator:gad84f3cec9d1bddfa9e22612a9d757a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga50419cd8fe5567c12d32f8f4f328a892" id="r_ga50419cd8fe5567c12d32f8f4f328a892"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga50419cd8fe5567c12d32f8f4f328a892">bio_platform_update</a> (<a class="el" href="group__misc.html#ga2731c29427c64b1067a9ef8ed3f95fca">bio_time_t</a> wait_timeout_ms, bool notifiable)</td></tr>
<tr class="memdesc:ga50419cd8fe5567c12d32f8f4f328a892"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check on I/O completion status.  <br /></td></tr>
<tr class="separator:ga50419cd8fe5567c12d32f8f4f328a892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf375f42c4d2c142009950925fb543392" id="r_gaf375f42c4d2c142009950925fb543392"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gaf375f42c4d2c142009950925fb543392">bio_platform_notify</a> (void)</td></tr>
<tr class="memdesc:gaf375f42c4d2c142009950925fb543392"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make <a class="el" href="group__internal.html#ga50419cd8fe5567c12d32f8f4f328a892">bio_platform_update</a> return.  <br /></td></tr>
<tr class="separator:gaf375f42c4d2c142009950925fb543392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab732a361c37452eb7681f57f7814a89" id="r_gaab732a361c37452eb7681f57f7814a89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__misc.html#ga2731c29427c64b1067a9ef8ed3f95fca">bio_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gaab732a361c37452eb7681f57f7814a89">bio_platform_current_time_ms</a> (void)</td></tr>
<tr class="memdesc:gaab732a361c37452eb7681f57f7814a89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current time in milliseconds.  <br /></td></tr>
<tr class="separator:gaab732a361c37452eb7681f57f7814a89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf07afefe7744173f43843c63806a0cdb" id="r_gaf07afefe7744173f43843c63806a0cdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gaf07afefe7744173f43843c63806a0cdb">bio_platform_begin_create_thread_pool</a> (void)</td></tr>
<tr class="memdesc:gaf07afefe7744173f43843c63806a0cdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called before the async thread pool is created.  <br /></td></tr>
<tr class="separator:gaf07afefe7744173f43843c63806a0cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43f82f22377f8258d9d4b5631aca876a" id="r_ga43f82f22377f8258d9d4b5631aca876a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga43f82f22377f8258d9d4b5631aca876a">bio_platform_end_create_thread_pool</a> (void)</td></tr>
<tr class="memdesc:ga43f82f22377f8258d9d4b5631aca876a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after the async thread pool is created.  <br /></td></tr>
<tr class="separator:ga43f82f22377f8258d9d4b5631aca876a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe60c46b492ce128f7da494fd56bda1d" id="r_gafe60c46b492ce128f7da494fd56bda1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gafe60c46b492ce128f7da494fd56bda1d">bio_fs_init</a> (void)</td></tr>
<tr class="memdesc:gafe60c46b492ce128f7da494fd56bda1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the File I/O subsystem.  <br /></td></tr>
<tr class="separator:gafe60c46b492ce128f7da494fd56bda1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf753f7a858b1de3d268f07083f23bbb8" id="r_gaf753f7a858b1de3d268f07083f23bbb8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gaf753f7a858b1de3d268f07083f23bbb8">bio_fs_cleanup</a> (void)</td></tr>
<tr class="memdesc:gaf753f7a858b1de3d268f07083f23bbb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanup the File I/O subsystem.  <br /></td></tr>
<tr class="separator:gaf753f7a858b1de3d268f07083f23bbb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36d6ed102954273792159676d20773ab" id="r_ga36d6ed102954273792159676d20773ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga36d6ed102954273792159676d20773ab">bio_net_init</a> (void)</td></tr>
<tr class="memdesc:ga36d6ed102954273792159676d20773ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the Network I/O subsystem.  <br /></td></tr>
<tr class="separator:ga36d6ed102954273792159676d20773ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02c36cfbb4884b7af60302b7c1fcf5f6" id="r_ga02c36cfbb4884b7af60302b7c1fcf5f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga02c36cfbb4884b7af60302b7c1fcf5f6">bio_net_cleanup</a> (void)</td></tr>
<tr class="memdesc:ga02c36cfbb4884b7af60302b7c1fcf5f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanup the Network I/O subsystem.  <br /></td></tr>
<tr class="separator:ga02c36cfbb4884b7af60302b7c1fcf5f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>For porting to a new platform. </p>
<p>For each platform, bio makes use of its specific async I/O API. To port to a new platform, all of the functions mentioned here must be implemented in addition to all <a class="el" href="group__file.html">File I/O</a> and <a class="el" href="group__net.html">Network I/O</a> functions.</p>
<p>The <a class="el" href="group__init.html#ga75aa8151c7d2cb5d9440e6dfeea5f553">event loop</a> and the <a class="el" href="group__misc.html#ga9e1d740968b4d69a528306ae4ddf995e">async thread pool</a> are largely platform-agnostic. All the platform-dependent details are abstracted into <a class="el" href="group__internal.html#ga50419cd8fe5567c12d32f8f4f328a892">bio_platform_update</a> and <a class="el" href="group__internal.html#gaf375f42c4d2c142009950925fb543392">bio_platform_notify</a>.</p>
<p>The I/O functions are usually implemented like this:</p>
<ul>
<li>Create a new <a class="el" href="group__signal.html#ga38cd6e3e58864cbf19fc86ff352bb44a">signal</a></li>
<li>Submit an async I/O request using the platform's API, along with the signal as "userdata".</li>
<li>Call <a class="el" href="group__signal.html#ga9296cf9935d2e125e328a9d9d8366800">bio_wait_for_one_signal</a></li>
</ul>
<p>This would suspend the calling coroutine.</p>
<p>Later on, when all existing coroutines have yielded or suspended, bio will call <a class="el" href="group__internal.html#ga50419cd8fe5567c12d32f8f4f328a892">bio_platform_update</a>. The implementation should check for completed I/O requests there. Through the "userdata" feature often found in async I/O APIs, it will call <a class="el" href="group__signal.html#gac50dc2bf75988409fe9dcd8edb5d9181">bio_raise_signal</a> to resume coroutines whose I/O requests have completed.</p>
<p>The async thread pool is handled through <a class="el" href="group__internal.html#gaf375f42c4d2c142009950925fb543392">bio_platform_notify</a>. Whenever a task has finished execution, bio will call <a class="el" href="group__internal.html#gaf375f42c4d2c142009950925fb543392">bio_platform_notify</a> from the <b>worker thread</b>, not the main thread. The implementation must have a way to make <a class="el" href="group__internal.html#ga50419cd8fe5567c12d32f8f4f328a892">bio_platform_update</a> return when signalled from a different thread regardless of whether an I/O event has occured. Async I/O APIs often have some sort of "user event" that can be posted from another thread for this purpose. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gab49e49a3e22f32f6c580afcac0d9b583" name="gab49e49a3e22f32f6c580afcac0d9b583"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab49e49a3e22f32f6c580afcac0d9b583">&#9670;&#160;</a></span>BIO_DEFAULT_NUM_CLS_BUCKETS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BIO_DEFAULT_NUM_CLS_BUCKETS&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The default number of CLS hash buckets. </p>

</div>
</div>
<a id="ga1ef17ac0b1d8b097954aca20c450038e" name="ga1ef17ac0b1d8b097954aca20c450038e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ef17ac0b1d8b097954aca20c450038e">&#9670;&#160;</a></span>BIO_DEFAULT_THREAD_POOL_QUEUE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BIO_DEFAULT_THREAD_POOL_QUEUE_SIZE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The default queue size for the async thread pool. </p>

</div>
</div>
<a id="ga75184a1280f54046602a7d975b9301c4" name="ga75184a1280f54046602a7d975b9301c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga75184a1280f54046602a7d975b9301c4">&#9670;&#160;</a></span>BIO_DEFAULT_THREAD_POOL_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BIO_DEFAULT_THREAD_POOL_SIZE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The default number of threads in the async thread pool. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf753f7a858b1de3d268f07083f23bbb8" name="gaf753f7a858b1de3d268f07083f23bbb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf753f7a858b1de3d268f07083f23bbb8">&#9670;&#160;</a></span>bio_fs_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bio_fs_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleanup the File I/O subsystem. </p>

</div>
</div>
<a id="gafe60c46b492ce128f7da494fd56bda1d" name="gafe60c46b492ce128f7da494fd56bda1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe60c46b492ce128f7da494fd56bda1d">&#9670;&#160;</a></span>bio_fs_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bio_fs_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the File I/O subsystem. </p>

</div>
</div>
<a id="ga02c36cfbb4884b7af60302b7c1fcf5f6" name="ga02c36cfbb4884b7af60302b7c1fcf5f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga02c36cfbb4884b7af60302b7c1fcf5f6">&#9670;&#160;</a></span>bio_net_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bio_net_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleanup the Network I/O subsystem. </p>

</div>
</div>
<a id="ga36d6ed102954273792159676d20773ab" name="ga36d6ed102954273792159676d20773ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36d6ed102954273792159676d20773ab">&#9670;&#160;</a></span>bio_net_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bio_net_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the Network I/O subsystem. </p>

</div>
</div>
<a id="gaf07afefe7744173f43843c63806a0cdb" name="gaf07afefe7744173f43843c63806a0cdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf07afefe7744173f43843c63806a0cdb">&#9670;&#160;</a></span>bio_platform_begin_create_thread_pool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bio_platform_begin_create_thread_pool </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called before the async thread pool is created. </p>

</div>
</div>
<a id="gad84f3cec9d1bddfa9e22612a9d757a8f" name="gad84f3cec9d1bddfa9e22612a9d757a8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad84f3cec9d1bddfa9e22612a9d757a8f">&#9670;&#160;</a></span>bio_platform_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bio_platform_cleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleanup the platform layer. </p>

</div>
</div>
<a id="gaab732a361c37452eb7681f57f7814a89" name="gaab732a361c37452eb7681f57f7814a89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaab732a361c37452eb7681f57f7814a89">&#9670;&#160;</a></span>bio_platform_current_time_ms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__misc.html#ga2731c29427c64b1067a9ef8ed3f95fca">bio_time_t</a> bio_platform_current_time_ms </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the current time in milliseconds. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__misc.html#ga1e1cc40660a06792f0512bab1a96cd3a" title="Return the current time in milliseconds.">bio_current_time_ms</a> </dd></dl>

</div>
</div>
<a id="ga43f82f22377f8258d9d4b5631aca876a" name="ga43f82f22377f8258d9d4b5631aca876a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43f82f22377f8258d9d4b5631aca876a">&#9670;&#160;</a></span>bio_platform_end_create_thread_pool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bio_platform_end_create_thread_pool </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called after the async thread pool is created. </p>

</div>
</div>
<a id="gaec90ae104fab2334fcf70021a61f4457" name="gaec90ae104fab2334fcf70021a61f4457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec90ae104fab2334fcf70021a61f4457">&#9670;&#160;</a></span>bio_platform_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bio_platform_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the platform layer. </p>

</div>
</div>
<a id="gaf375f42c4d2c142009950925fb543392" name="gaf375f42c4d2c142009950925fb543392"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf375f42c4d2c142009950925fb543392">&#9670;&#160;</a></span>bio_platform_notify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bio_platform_notify </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make <a class="el" href="group__internal.html#ga50419cd8fe5567c12d32f8f4f328a892">bio_platform_update</a> return. </p>
<p>This function will always be called from the async thread pool. It must signal to <a class="el" href="group__internal.html#ga50419cd8fe5567c12d32f8f4f328a892">bio_platform_update</a> in the main thread to return regardless of I/O completion status. </p>

</div>
</div>
<a id="ga50419cd8fe5567c12d32f8f4f328a892" name="ga50419cd8fe5567c12d32f8f4f328a892"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga50419cd8fe5567c12d32f8f4f328a892">&#9670;&#160;</a></span>bio_platform_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bio_platform_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__misc.html#ga2731c29427c64b1067a9ef8ed3f95fca">bio_time_t</a>&#160;</td>
          <td class="paramname"><em>wait_timeout_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>notifiable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check on I/O completion status. </p>
<p>The event loop will call this function whenever all coroutines have yielded or suspended. This function should use the platform's polling API to check for completion status and raise the relevant I/O wait signals.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wait_timeout_ms</td><td>How much time to wait for I/O completion. This should be followed as closely as possible since bio relies on it for <a class="el" href="group__signal.html#ga9ebb8779379b5455f238c652a8937617">timing</a>. If this is 0, the function should return as soon as there is no more pending I/O event. If this is -1, the function should wait indefinitely until there is at least one I/O event. </td></tr>
    <tr><td class="paramname">notifiable</td><td>Should this wait be notifiable with <a class="el" href="group__internal.html#gaf375f42c4d2c142009950925fb543392">bio_platform_notify</a>. When this is <code>false</code>, this function was called at a time when there is no pending async task. It may choose to execute in a more efficient code path. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
